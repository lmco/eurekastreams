<<<<<<< .merge_file_6D6aGJ
## Overview

Knowledge workers can manage their notifications generated by Eureka, via in app 
notifications and/or emails.  Group coordinators and Eureka administrators do recieve some 
default notifications.

## Conditions of Satisfaction

### Default Notifications

01. The knowledge worker must be able to receive a notification for when an activity is 
posted by a colleague to their stream.
02. The knowledge worker must be able to receive a notification when a colleague likes an 
activity posted by the knowledge worker. 
03. The knowledge worker must be able to receive a notification for when a comment is posted 
to an activity posted by or commented on by the Knowledge Worker.
04. The knowledge worker must be able to receive a notification for when a colleague follows 
him.
05. The knowledge worker must receive a notification for when access to a private group is 
approved or denied.
06. The group coordinator must receive a high priority notification for when a pending 
membership request is submitted to a private group. 
07. The group coordinator must receive a high priority notification for when a pending group 
request is approved or denied. 
08. The group coordinator must receive a notification when an activity is posted by a 
colleague to a group the Knowledge Worker has followed.
09. The Eureka administrator must receive a high priority notification for when activity is 
flagged as inappropriate. 
10. The Eureka administrator must receive a high priority notification for when there is a 
pending group creation request. 

### Viewing Notifications

01. The knowledge Worker must be able to distinguish high priority notifications from normal 
notifications
02. The knowledge Worker must be alerted when high priority notifications are unread 
differently than normal unread notifications.
03. The knowledge Worker must be able to filter notifications by source (stream of app of 
notification origin)
04. The knowledge worker must be able to see the count of notifications by source
05. The knowledge worker must be able to view only high priority notifications
06. The knowledge worker must be able to filter between "all" and "unread" notifications
07. The knowledge worker must be able to mark all notifications as read
08. The knowledge worker must mark a notification individually as read only by clicking it
09. The knowledge worker must be able to delete an individual notification

### Managing Notifications

01. The knowledge worker must be able to unsubscribe to a type of notification from the 
notifications window
02. The knowledge worker must have the option to receive notifications via email.
03. The knowledge worker must have the option to receive notifications in the app.

### Notification API

01. The Eureka connect developer must be able to send notifications to a particular user 
from an exposed API
02. The Eureka connect developer must be able to mark a notification being sent as high 
priority


## User Experience
### Viewing Notifications

![](images/Notifications.png)

1. Filters on the left allow the user to filter between all notifications or
notifications for a particular stream or app source. Clicking on "Stream" or
"Apps" will show all notifications in those sub groups.
2. Notifications can be filtered to show all or unread notifications. Read
notifications are show as darker in color (in picture above, the third
notification is "read"). High Priority notifications are always sorted to the
top. A notification is only marked as read if it is clicked or the mark all as
read button is clicked (more details below).
3. Lets the user mark all notifications in the current view as "read"
4. Switches the Modal to the config view (see below)
5. A notification itself. The icon shows is the avatar of the person or group generating the notification. A "system" and "app" icon will be used for when the Admin or an app through the API sends a notification. Clicking the notification takes the user to the notification's target. Hovering brings up the two options shown.
6. Hovering over the delete icon expands it with a tool tip. Clicking it deletes the notification
7. Hovering over the stop icon expands in the same fashion with the text "Stop Notifications Like This". Clicking it unchecks both In App and Email settings for that notification type. This icon does not appear on notifications the user can not unsubscribe to.
8. High-Priority notifications are always sorted to the top regardless of date and have a red bar to distinguish them.


### Managing Notifications
![](images/Notifications_Config.png)

1. Allows the user to go back to the previous view.
2. Checking the boxes allow the user to control how they want to receive notifications.
3. Clicking Save Changes persists the changes the user has made with the check boxes.

Notes:

1. Notifications are retained for 14 days.
2. A single notification is generated based on any given event.  The type of message sent is picked based on the following order: 1) Authorship, 2) Who's stream is updated; 3) scenario for commenting.  For example, in the scenario where a Knowledge Worker posts a message to his stream and comments on his message, the Knowledge Worker would receive message #2 instead of message #4 since the original message was generated by the Knowledge Worker.

### Notification Icon

![](images/Notifications_Nav.png)

1. The notification icon in the top bar. The count badge only appears when there aren't any unread notifications. When there are unread notifications the badge appears with the count.

### Email Notifications

![](images/R1_PS_F18_ViewNotifications_Emails_fig01.png)

1. Email is sent to a Knowledge Worker when a message is posted to your stream. The word 'message' is replaced with 'link' when a link is posted and the link name is displayed after the message in blue.  Refer to #6 for an example.

Notes:

1. A single email is generated based on any given event.  The type of message sent is picked based on the following order: 1) Authorship, 2) Who's stream is updated; 3) scenario for commenting.  For example, in the scenario where a Knowledge Worker posts a message to his stream and comments on his message, the Knowledge Worker would receive message #2 instead of message #4 since the original message was generated by the Knowledge Worker.

![](images/R1_PS_F18_ViewNotifications_Emails_Footertemplate.png)

1. Footer is the same for all emails.


## Activity Not Found Message

![](images/PS_F18_notifications_activitynotfound.png)

1. This message is displayed when the activity hyperlinked in a notification or email no longer exists.


##Test Plans

**Testing Notes**

When executing notification testing:

* when the in-app option is enabled, the in-app notification count will always increase by one when a notification is received
* Always check the content of the in-app and email notifications to ensure the content within the notification corresponds to the action which generated the notification.


###Default Notifications
1. **The Knowledge Worker must be able to receive a notification when an activity is posted by a colleague to their stream.**
	* Verify the ability to enable the in-app and email options for, Someone posts on my stream
		* When a colleague posts to your stream, verify the in-app and email notifications are received
	* Verify the ability to disable the in-app and email options for, Someone posts on my stream
		* When a colleague posts to your stream, verify the in-app and email notifications are not received
2. **The Knowledge Worker must be able to receive a notification for when a colleague likes an activity posted by the Knowledge Worker**
	* Verify the ability to enable the in-app and email notification for, Someone likes one of my posts
		* When someone likes one of your posts, verify the in-app and email notifications are received 
	* Verify the ability to disable the in-app and email notification for, Someone likes one of my posts
		* When someone likes one of your posts, verify the in-app and email notifications are not received
3. **The Knowledge Worker must be able to receive a notification when a comment is posted to an activity posted by the Knowledge Worker or an activity the Knowledge Worker has commented on.**
	* Verify the ability to enable the in-app and email notification for, Someone comments on one of my posts or a post I’ve commented on
		* When someone comments on one of your posts, verify the in-app and email notifications are received
		* When someone comments on a post you have commented on,verify the in-app and email notifications are received 
	* Verify the ability to disable the in-app and email notification for, Someone comments on one of my posts or a post I’ve commented on
		* When someone comments on one of your posts, verify the in-app and email notifications are not received
		* When someone comments on a post you have commented on,verify the in-app and email notifications are not received
4. **The Knowledge Worker must be able to receive a notification for when a colleague follows him.**
	* Verify the ability to enable the in-app and email notifications for, Someone follows my stream or a group I coordinate
		* When someone follows your personal stream, verify the in-app and email notifications are received. 
	* Verify the ability to disable the in-app and email notifications for, Someone follows my stream 
		* When someone follows your personal stream, verify the in-app and email notifications are not received
5. **The Knowledge Worker must be able to receive a notification for when a colleague follows a stream he coordinates.**
	* Verify the ability to enable the in-app and email notifications for, Someone follows a group I coordinate
		* When someone follows a stream that you coordinate, verify the in-app and email notifications are received
	* Verify the ability to disable the in-app and email notifications for, Someone follows a group I coordinate
		* When someone follows a stream that you coordinate, verify the in-app and email notifications are not received
6. **The Knowledge Worker must receive a notification for when access to a private group is approved or denied.**
	* When access to a private group is approved, verify an in-app and email notification are received
	* When access to a private group is denied, verify an in-app and email notification are received 
7. **The Group Coordinator must receive a notification for when a pending membership request is submitted to a private group.** 
	* When access to a private group is requested, verify an in-app and email notification is received
8. **The Group Coordinator must receive a high priority notification for when a pending group request is approved or denied.** 
	* When a pending group request has been approved, verify the Group Coordinator receives a high priority in-app and email notification
	* When a pending group request has been denied, verify the Group Coordinator receives a high priority in-app and email notification
9. **The Eureka Administrator must receive a high priority notification when activity is flagged as inappropriate.**
	* When an activity is flagged as in appropriate, verify a high priority in-app and email notification is received.
10. **The Eureka Administrator must receive a high priority notification for when there is a pending group creation request.**
	* When a public group creation request has been submitted, verify a high priority in-app notification and email is received.
	* When a private group creation request has been submitted, verify a high priority in-app notification and email is received.


###Viewing Notifications

1. **The Knowledge Worker must be able to distinguish high priority notifications from normal notifications**
	* Verify that high priority notifications are displayed at the top of the list
	* Verify that high priority notifications are indicated with red bars
2. **The Knowledge Worker must be alerted when high priority notifications are unread differently than normal unread notifications.**
	* Verify when marking all as "read", high priority notifications are included in this action
	* Verify that clicking on a high priority notification marks it as read
3. **The Knowledge Worker must be able to filter notifications by source (stream of app of notification origin)**
	* Verify the ability to filter by All, Streams (All) and Apps (All)
	* Verify the ability to filter notifications associated with a specific app
	* Verify the ability to filter notifications associated with a specific stream
	* Verify the filters for specific streams and apps only appear if there is a notification associated with them
4. **The Knowledge Worker must be able to see the count of notifications by source**
	* Verify the count is displayed to each source
	* Verify the count at the Streams and apps level is a roll up of the total number of notifications within each
5. **The Knowledge Worker must be able to view only high priority notifications**
	* Verify the ability to view only high priority notifications
6. **The Knowledge Worker must be able to filter between all and unread notifications**
	* Verify the ability to view only unread notifications
	* Verify the ability to view all notifications
7. **The Knowledge Worker must be able to mark all notifications as read**
	* Verify the ability to mark all notifications as read within the All view
	* Verify the ability to mark all notifications as read within the Unread view
8. **The Knowledge Worker must mark a notification individually as read only by clicking it**
	* Verify the ability to mark a notification as read by clicking on the notification
9. **The Knowledge Worker must be able to delete an individual notification**
	* Verify the ability to delete a read notification by clicking on the Delete Notification option
	* Verify the ability to delete an unread notification by clicking on the Delete Notification option

###Managing Notifications

1. **The Knowledge Worker must be able to unsubscribe to a type of notification from the notifications window**
	* Verify the ability to unsubscribe from both in-app and email notifications from the notification window in the following situations:
		* Someone posts on my stream
		* Someone likes one of my posts
		* Someone comments on one of my posts or a post I've commented on
		* Someone follows my stream or a group I coordinate
2. **The Knowledge Worker must have the option to receive notifications via email.**
	* Tested above
3. **The Knowledge Worker must have the option to receive notifications in the app.**
	* Tested above

###Notification API

01. **The Eureka Connect Developer must be able to send notifications to a particular user from an exposed API**
02. **The Eureka Connect Developer must be able to mark a notification being sent as high priority**


=======
##Overview
Knowledge workers can choose to receive notifications on the posting of new activity and comments and the addition of new followers.
##Conditions of satisfaction
1. The system must generate a notification for a knowledge worker when an activity is posted by a colleague to their stream.
2. The system must generate a notification for a knowledge worker when a comment is posted to any activity within their stream.
3. The system must generate a notification for a knowledge worker when a comment is posted to an activity posted by the knowledge worker.
4. The system must generate a notification for a knowledge worker when a comment is posted to an activity that the knowledge worker has commented on.
5. The system must generate a notification for a knowledge worker when a colleague follows him.
6. The system must generate a notification for a knowledge worker when a group official posts an announcement to a group the knowledge worker has joined.
7. The system must generate a notification for a group coordinator when an activity is posted by a colleague to his group stream.
8. The system must generate a notification for a group coordinator when a colleague follows his group.
9. The system must generate a notification for a group coordinator when a pending membership request is submitted to a private group.
10. The system must generate a notification for an organization coordinator when there is a pending group creation request.
11. The system must generate a notification for an organization coordinator when activity is flagged as inappropriate.
12. The knowledge worker must have the option to receive notifications via email.

##User experience
### Managing Notifications
![](images/PS_F18_ManageNotifications.png)

1. Clicking the check box enables and disables email notifications.
1. Logged in user's email address.
1. Saves the edits made to the form and displays a feedback message at the top of the page: "Settings saved" with a close link at the top of the page.
1. Discards the changes made to the form and returns the knowledge worker to the start page.

### View Notifications
![](images/PS_F18_ViewNotifications_fig01.png)

1. Icon opens notifications modal window
1. Hover state
1. "25" is the number of new notifications

![](images/PS_F18_ViewNotifications_fig02.png)

1. Displayed for a knowledge worker when a message is posted to your stream.  The name links to the colleagues profile and the message links to the message posted in your profile. New notifications are highlighted in yellow.
2. Displayed for a knowledge worker when a colleague comments on an activity that you posted to your stream or to another knowledge worker's stream. Activity could be a link or message. The name links to the colleagues profile and the message links to the link posted in your profile.
3.  Displayed for a knowledge worker when a colleague comments on an actvity in the knowledge workers stream.  Activity could be a link or message. The name links to the colleagues profile and the link links to the link.
4. Displayed for a knowledge worker when a colleague comments on an activity that the knowledge worker has commented on.  The name links to the colleagues profile and the message links to the message.
5. Displayed for a knowledge worker when a colleague starts following your stream.  Colleague name links to the colleagues profile.
6. Displayed for knowledge worker when a group official posts an announcement to the group stream.
7. Displayed for group coordinators when a knowledge worker posts a message to a group stream.  Knowledge worker name links to the knowledge workers profile, message links to the message in the group stream, and group name links to the group profile.
8. Displayed for group coordinators when a knowledge worker joins a group. Knowledge worker name links to the knowledge workers profile and group name links to the group profile.
9. Displayed for group coordinators when a knowledge worker requests access to a private group.  Knowledge worker name links to the knowledge workers profile, requested links to the groups Admin tab, and group name links to the group profile.
10. Displayed for organization coordinators when a message is flagged in a group or knowledge worker profile within the organization.  Knowledge worker name links to the knowledge workers profile, flagged links to the parent organizations Admin tab and organization name links to the organization profile.
11. Displayed for organization coordinators when a new group is created and pending approval.  Group name is a link to the group profile, pending approval is a link to the organization's Admin tab, and organization name links to the organization profile.
12. Link closes window and opens the Personal tab on the settings page.
13. Closes the window.

Notes:

1. Notifications are retained for 14 days.
2. A single notification is generated based on any given event.  The type of message sent is picked based on the following order: 1) Authorship, 2) Who's stream is updated; 3) scenario for commenting.  For example, in the scenario where a knowledge worker posts a message to his stream and comments on his message, the knowledge worker would recieve message #2 instead of message #4 since the original message was generated by the knowledge worker.
3. Emails are non-recursive.  For example, an org coordinator will not receive an email when a message is posted to a group in the organization.

### Email Notifications

![](images/PS_F18_ViewNotifications_Emails_fig01.png)

![](images/PS_F18_ViewNotifications_Emails_fig02.png)

![](images/PS_F18_ViewNotifications_Emails_fig03.png)

![](images/PS_F18_ViewNotifications_Emails_fig04.png)

![](images/PS_F18_ViewNotifications_Emails_fig05.png)

![](images/PS_F18_ViewNotifications_Emails_fig06.png)

![](images/PS_F18_ViewNotifications_Emails_fig07.png)

![](images/PS_F18_ViewNotifications_Emails_fig08.png)

![](images/PS_F18_ViewNotifications_Emails_fig09.png)

![](images/PS_F18_ViewNotifications_Emails_fig10.png)

![](images/PS_F18_ViewNotifications_Emails_fig11.png)

![](images/PS_F18_ViewNotifications_Emails_fig12.png)

![](images/PS_F18_ViewNotifications_Emails_fig13.png)


1. Email is sent to a knowledge worker when a message is posted to your stream.
2. Email is sent to a knowledge worker when a colleague comments on an activity that you posted in your stream or an activity that you posted in another person's stream.
3. Email is sent to a knowledge worker when a colleague comments on a message or link in your stream.
4. Email is sent to a knowledge worker when a colleague comments on an activity that the knowledge worker has commented on.
5. Email is sent to a knowledge worker when a colleague starts following your stream.
6. Email is sent to a knowledge worker when a group official posts an announcement to the group stream.
7.  Email is sent to group coordinators when a knowledge worker posts a message to a group stream.
8. Email is sent to group coordinators when a knowledge worker joins a group.
9. Email is sent to group coordinators when a knowledge worker requests access to a private group.
10. Email is sent to organization coordinators when a message is flagged in a group or knowledge worker's profile within the organization.
11. Email is sent to organization coordinators when a new group is created and pending approval.
12. Emails is sent to the person originating the pending group request when group request is approved.
13. Emails is sent to the person originating the pending group request when group request is denied.

Notes:

1. A single email is generated based on any given event.  The type of message sent is picked based on the following order: 1) Authorship, 2) Who's stream is updated; 3) scenario for commenting.  For example, in the scenario where a knowledge worker posts a message to his stream and comments on his message, the knowledge worker would recieve message #2 instead of message #4 since the original message was generated by the knowledge worker.
2. Emails are non-recursive.  For example, an org coordinator will not receive an email when a message is posted to a group in the organization.

## Activity Not Found Message

![](images/PS_F18_notifications_activitynotfound.png)

1. This message is displayed when the activity hyperlinked in a notficiation or email no longer exists.


##Test plans
###Knowledge Worker
1. **Action: Confirm a notification is generated for a knowledge worker when an activity is posted by a colleague to his stream**
    * Verify notification count increases by one
    * Verify the hyperlinks in the notification link to the areas defined in the UX Designs.
2. **Action: Confirm a notification is generated for a knowledge worker when an activity posted by the knowledge worker is shared**
    * Verify notification count increases by one
    * Verify the hyperlinks in the notification link to the areas defined in the UX Designs.
3. **Action: Confirm a notification is generated for a knowledge worker when a comment is posted to any activity within his stream**
    * Verify notification count increases by one
    * Verify the hyperlinks in the notification link to the areas defined in the UX Designs.
4. **Action: Confirm a notification is generated for a knowledge worker when a comment is posted to an activity that the knowledge worker has commented on**
    * Verify notification count increases by one
    * Verify the hyperlinks in the notification link to the areas defined in the UX Designs.
5. **Action: Confirm a notification is generated for a knowledge worker when a comment is posted to an activity posted by the knowledge worker**
    * Verify notification count increases by one
    * Verify the hyperlinks in the notification link to the areas defined in the UX Designs.
6. **Action: Confirm a notification is generated for a knowledge worker when a colleague follows him**
    * Verify notification count increases by one
    * Verify the hyperlinks in the notification link to the areas defined in the UX Designs.
7. **Action: Confirm the option to receive notifications via email**
    * Verify email notifications for posted activity, comments and new followers are enabled by default
    * Verify an email is sent to the knowledge worker when an activity is posted by a colleague to his stream
    * Verify an email is sent to the knowledge worker when activity posted by the knowledge worker is shared
    * Verify an email is sent to the knowledge worker when a comment is posted to an activity within his stream
    * Verify an email is sent to the knowledge worker when a comment is posted to an activity that the knowledge worker has commented on
    * Verify an email is sent to the knowledge worker when a comment is posted to an activity posted by the knowledge worker
    * Verify an email is sent to the knowledge worker when another knowledge worker begins to follow him
    * Verify the ability to opt out of receiving emails for activity
    * Verify an email is not sent to the knowledge worker when an activity is posted by a colleague to his stream
    * Verify an email is not sent to the knowledge worker when activity posted by the knowledge worker is shared
    * Verify the ability to opt out of receiving emails for comments
    * Verify an email is not sent to the knowledge worker when a comment is posted to any activity within their stream
    * Verify an email is not sent to the knowledge worker when a comment is posted to an activity that the knowledge worker has commented on
    * Verify an email is not sent to the knowledge worker when a comment is posted to an activity posted by the knowledge worker
    * Verify the ability to opt out of receiving emails for colleagues following him
    * Verify an email is not sent to the knowledge worker when another knowledge worker begins to follow him
###Group Coordinator
1. **Action: Execute same tests as Knowledge Worker**
    * Verify tests executed successfully
2. **Action: Verify a notification is generated for a group coordinator when an activity is posted by a colleague to his group stream**
    * Verify notification count increases by one
    * Verify the hyperlinks in the notification link to the areas defined in the UX Designs.
3. **Action: Verify a notification is generated for a group coordinator when an activity is shared within his group stream**
    * Verify notification count increases by one
    * Verify the hyperlinks in the notification link to the areas defined in the UX Designs.
4. **Action: Verify a notification is generated for a group coordinator when a colleague follows his group**
    * Verify notification count increases by one
    * Verify the hyperlinks in the notification link to the areas defined in the UX Designs.
5. **Action: Verify a notification is generated for a group coordinator when a pending membership request is submitted to a private group.**
    * Verify notification count increases by one
    * Verify the hyperlinks in the notification link to the areas defined in the UX Designs.
6. **Action: Confirm the option to receive notifications via email**
    * Verify email notifications for posted activity, commenting and new followers are enabled by default
    * Verify an email is sent to all group coordinators when an activity is posted to his group stream
    * Verify an email is sent to all group coordinators when an activity is shared within his group stream
    * Verify an email is sent to all group coordinators when a comment is posted to any activity within his/her group stream
    * Verify an email is sent to all group coordinators when a colleague follows his group
    * Verify an email is sent to all group coordinators when a pending membership request is submitted to a private group.
    * Verify the ability to opt out of receiving emails for activity
    * Verify an email is not sent to any of the group coordinators when an activity is posted to his group stream
    * Verify an email is not sent to all group coordinators when an activity is shared within his group stream
    * Verify the ability to opt out of receiving emails for commenting
    * Verify an email is not sent to any of the group coordinators when a comment is posted to any activity within his group stream
    * Verify the ability to opt out of receiving emails for joining his/her group
    * Verify an email is not sent to any of the group coordinators when a colleague joins his group
    * Verify the ability to opt out of receiving emails for pending membership requests
    * Verify an email is sent to all group coordinators when a pending membership request is submitted to a private group.
###Organization Coordinator
1. **Action: Execute same tests as Knowledge Worker**
    * Verify tests executed successfully
2. **Action: Execute same tests as Group Coordinator**
    * Verify tests executed successfully
3. **Action: Confirm a notification is generated for an organization coordinator when there is a pending group creation request**
    * Verify notification count increases by one
    * Verify the hyperlinks in the notification link to the areas defined in the UX Designs.
4. **Action: Confirm a notification is generated for an organization coordinator when activity is flagged as inappropriate**
    * Verify notification count increases by one
    * Verify the hyperlinks in the notification link to the areas defined in the UX Designs.
5. **Action: Confirm the option to receive notifications via email**
    * Verify email notifications for flagged activity and new group requests are enabled by default
    * Verify an email is sent to all organization coordinators when there is a pending group creation request
    * Verify an email is sent to all organization coordinators when when activity is flagged as inappropriate
###Root Organization Coordinator
1. **Action: Execute same tests as Knowledge Worker**
    * Verify tests executed successfully
2. **Action: Execute same tests as Group Coordinator**
    * Verify tests executed successfully
3. **Action: Execute same tests as Organization Coordinator**
    * Verify tests executed successfully
>>>>>>> .merge_file_Ze3vDK
